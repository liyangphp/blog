{"ast":null,"code":"import _Card from \"antd/lib/card\";\nimport _List from \"antd/lib/list\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _Icon from \"antd/lib/icon\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport dynamic from 'next/dynamic';\nimport servicePath from '../config/apiUrl';\nvar Ellipsis = dynamic(function () {\n  return import(\"ant-design-pro/lib/Ellipsis\");\n}, {\n  ssr: false //这个要加上,禁止使用 SSR\n  ,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"ant-design-pro/lib/Ellipsis\")];\n    },\n    modules: [\"ant-design-pro/lib/Ellipsis\"]\n  }\n});\n\nvar ResCommand = function ResCommand() {\n  var _useState = useState(),\n      list = _useState[0],\n      setList = _useState[1];\n\n  var getLastArticle = function getLastArticle() {\n    var CancelToken = axios.CancelToken;\n    var source = CancelToken.source();\n    axios({\n      method: 'get',\n      url: servicePath.getRecommandList + '?category_id=4',\n      cancelToken: source.token\n    }).then(function (res) {\n      console.log(res.data.data);\n      source.cancel('方法被取消');\n\n      for (var item in res.data.data) {\n        res.data.data[item].href = \"/detail?id=\" + res.data.data[item].id;\n      }\n\n      setList(res.data.data);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  useEffect(function () {\n    getLastArticle();\n  }, []);\n  return __jsx(_Card, {\n    size: \"small\",\n    extra: __jsx(\"a\", {\n      style: {\n        color: '#000'\n      },\n      href: \"#\"\n    }, __jsx(_Icon, {\n      type: \"ellipsis\"\n    })),\n    title: __jsx(\"div\", {\n      style: {\n        width: '100%',\n        textAlign: 'left'\n      }\n    }, __jsx(_Icon, {\n      type: \"share-alt\"\n    }), __jsx(\"span\", {\n      style: {\n        marginLeft: 10\n      }\n    }, \"\\u6700\\u65B0\\u5206\\u4EAB\")),\n    style: {\n      margin: '1rem 1rem 0.5rem 1rem',\n      borderRadius: '0.3rem'\n    }\n  }, __jsx(_List, {\n    dataSource: list,\n    renderItem: function renderItem(item) {\n      return __jsx(_List.Item, {\n        key: item.id,\n        className: \"re-item\",\n        style: {\n          margin: '10px auto',\n          borderBottom: 'none'\n        }\n      }, __jsx(_List.Item.Meta, {\n        avatar: __jsx(_Avatar, {\n          style: {\n            borderRadius: '25%'\n          },\n          src: item.fmt\n        }),\n        title: __jsx(Ellipsis, {\n          lines: 2,\n          tooltip: true\n        }, __jsx(\"a\", {\n          style: {\n            position: \"relative\",\n            color: \"#000\",\n            fontSize: '0.4rem',\n            lineHeight: 0.1\n          },\n          href: item.href\n        }, item.title))\n      }), __jsx(\"div\", {\n        style: {\n          color: '#98a6ad',\n          fontSize: '8px'\n        }\n      }, \"\\u6587\\u4EF6\\uFF1A\", item.count));\n    }\n  }));\n};\n\nexport default ResCommand;","map":{"version":3,"sources":["/Users/mac/Desktop/liy-blog/components/ResCommand.jsx"],"names":["React","useState","useEffect","axios","dynamic","servicePath","Ellipsis","ssr","ResCommand","list","setList","getLastArticle","CancelToken","source","method","url","getRecommandList","cancelToken","token","then","res","console","log","data","cancel","item","href","id","error","color","width","textAlign","marginLeft","margin","borderRadius","borderBottom","fmt","position","fontSize","lineHeight","title","count"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { List, Card, Icon, Avatar } from 'antd'\nimport axios from 'axios'\nimport dynamic from 'next/dynamic'\nimport servicePath from '../config/apiUrl';\n\nconst Ellipsis = dynamic(\n    import (\"ant-design-pro/lib/Ellipsis\") ,\n    {\n      ssr: false   //这个要加上,禁止使用 SSR\n    }\n)\n\n\nconst ResCommand = () => {\n    const [list, setList] = useState()\n    const getLastArticle = () => {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n        axios({\n            method: 'get',\n            url: servicePath.getRecommandList+'?category_id=4',\n            cancelToken: source.token,\n        }).then(\n            res => {\n                \n                console.log(res.data.data)\n                source.cancel('方法被取消');\n                for (let item in res.data.data) {\n                    res.data.data[item].href = \"/detail?id=\" + res.data.data[item].id\n                }\n                setList(res.data.data)\n            }\n        ).catch(function (error) {\n            console.log(error)\n        });\n    }\n\n    useEffect(() => {\n        getLastArticle()\n    },[])\n\n    return (\n        <Card size=\"small\" extra={<a style={{ color: '#000' }} href=\"#\"><Icon type=\"ellipsis\" /></a>} title={<div style={{\n            width: '100%',\n            textAlign: 'left'\n        }}>\n            <Icon type=\"share-alt\" />\n            <span style={{ marginLeft: 10 }}>最新分享</span>\n        </div>} style={{ margin: '1rem 1rem 0.5rem 1rem', borderRadius: '0.3rem' }}>\n            <List\n                dataSource={list}\n                renderItem={item => (\n                    <List.Item key={item.id} className=\"re-item\" style={{ margin: '10px auto', borderBottom:'none' }}>\n                        <List.Item.Meta\n                            avatar={\n                                <Avatar style={{ borderRadius: '25%' }} src={item.fmt} />\n                            }\n                            title={<Ellipsis lines={2} tooltip><a style={{ position: \"relative\", color: \"#000\", fontSize: '0.4rem', lineHeight: 0.1 }} href={item.href}>{item.title}</a></Ellipsis>}\n                        />\n                        <div style={{ color: '#98a6ad', fontSize: '8px' }}>\n                            文件：{item.count}\n                        </div>\n                    </List.Item>\n                )}>\n            </List>\n        </Card>\n    )\n}\n\nexport default ResCommand"]},"metadata":{},"sourceType":"module"}