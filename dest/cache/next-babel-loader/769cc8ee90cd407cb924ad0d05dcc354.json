{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Modal from \"antd/lib/modal\";\nimport _BackTop from \"antd/lib/back-top\";\nimport _Icon from \"antd/lib/icon\";\nimport _Button from \"antd/lib/button\";\nimport _Row from \"antd/lib/row\";\nimport _Col from \"antd/lib/col\";\nimport _message from \"antd/lib/message\";\nimport _Upload from \"antd/lib/upload\";\nimport _Input from \"antd/lib/input\";\nimport _Select from \"antd/lib/select\";\nimport _Layout from \"antd/lib/layout\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport marked from 'marked';\nimport axios from 'axios';\nimport SimpleMDE from \"react-simplemde-editor\";\nimport \"easymde/dist/easymde.min.css\";\nimport '../public/style/pages/index.css';\nimport '../public/style/pages/add.css';\nimport Head from 'next/head';\nimport servicePath from '../config/apiUrl';\nimport Router from 'next/router';\nvar Content = _Layout.Content;\nvar Option = _Select.Option;\nvar TextArea = _Input.TextArea;\nvar Dragger = _Upload.Dragger;\n\nvar CreateOrEdit = function CreateOrEdit(props) {\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState(props.title ? props.title : ''),\n      articleTitle = _useState2[0],\n      setArticleTitle = _useState2[1];\n\n  var _useState3 = useState(props.desc ? props.desc : ''),\n      introducemd = _useState3[0],\n      setIntroducemd = _useState3[1];\n\n  var _useState4 = useState(props.desc ? props.desc : '等待编辑'),\n      introducehtml = _useState4[0],\n      setIntroducehtml = _useState4[1];\n\n  var _useState5 = useState(props.category_id ? props.category_id : 1),\n      selectedType = _useState5[0],\n      setSelectType = _useState5[1];\n\n  var _useState6 = useState([]),\n      options = _useState6[0],\n      setOptions = _useState6[1];\n\n  var _useState7 = useState(true),\n      isLoading = _useState7[0],\n      setIsLoading = _useState7[1];\n\n  var _useState8 = useState(props.coin ? props.coin : ''),\n      coin = _useState8[0],\n      setCoin = _useState8[1];\n\n  var _useState9 = useState(props.baiduurl ? props.baiduurl : ''),\n      baiduurl = _useState9[0],\n      setBaiduurl = _useState9[1];\n\n  var _useState10 = useState(props.baidupwd ? props.baidupwd : ''),\n      baidupwd = _useState10[0],\n      setBaidupwd = _useState10[1];\n\n  var _useState11 = useState(props.count ? props.count : ''),\n      count = _useState11[0],\n      setCount = _useState11[1];\n\n  var _useState12 = useState(props.fmt ? props.fmt : ''),\n      fmt = _useState12[0],\n      setFmt = _useState12[1];\n\n  var _useState13 = useState(),\n      auth = _useState13[0],\n      setAuth = _useState13[1];\n\n  var _useState14 = useState([]),\n      children = _useState14[0],\n      setChildren = _useState14[1];\n\n  var _useState15 = useState(false),\n      zancun = _useState15[0],\n      setZancun = _useState15[1];\n\n  var _useState16 = useState(props.content ? props.content : ''),\n      mdeValue = _useState16[0],\n      setMdeValue = _useState16[1]; //文章文章内容\n\n\n  var _useState17 = useState(props.tags ? props.tags : []),\n      labValue = _useState17[0],\n      setLabValue = _useState17[1]; //文章文章内容\n\n\n  var handleChange = function handleChange(value) {\n    setMdeValue(value);\n  };\n\n  var showModal = function showModal() {\n    setVisible(true);\n  };\n\n  var checkLogin = function checkLogin() {\n    var CancelToken = axios.CancelToken;\n    var source = CancelToken.source();\n\n    if (global.token != null) {\n      axios({\n        method: 'get',\n        url: servicePath.getUserInfo,\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('token')\n        },\n        withCredentials: false,\n        cancelToken: source.token,\n        transformResponse: function transformResponse(data) {\n          if (data.indexOf('errors') != -1) {\n            data = JSON.parse(data);\n\n            for (var item in data.errors) {\n              _message.error(data.errors[item][0]);\n            }\n          } else if (data.indexOf('Unauthenticated') != -1) {\n            global.token = '';\n            return data;\n          } else {\n            return data;\n          }\n        }\n      }).then(function (res) {\n        source.cancel('方法被取消');\n        setIsLoading(false);\n        console.log(res);\n        res.data = eval('(' + res.data + ')');\n        console.log(res);\n        setAuth(res.data.data);\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    } else {\n      console.log('asasdas');\n    }\n  };\n\n  var getlabs = function getlabs(selectedType) {\n    var CancelToken = axios.CancelToken;\n    var source = CancelToken.source();\n    axios({\n      method: 'get',\n      url: servicePath.getLabs + '?id=' + selectedType,\n      cancelToken: source.token,\n      transformResponse: function transformResponse(data) {\n        console.log(data);\n\n        if (data.indexOf('Unauthenticated') != -1) {\n          source.cancel('方法被取消');\n          window.location.href = '/';\n        } else {\n          return data;\n        }\n      }\n    }).then(function (res) {\n      setIsLoading(false);\n      res.data = eval('(' + res.data + ')');\n      source.cancel('方法被取消');\n      var labs = [];\n\n      for (var item in res.data.data) {\n        labs.push(__jsx(Option, {\n          key: item,\n          value: res.data.data[item].label\n        }, res.data.data[item].label));\n      }\n\n      setChildren(labs);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  var prop = {\n    uid: '-2',\n    name: 'upload_file',\n    multiple: false,\n    action: servicePath.uploadImage,\n    headers: {\n      'Authorization': 'Bearer ' + localStorage.getItem('token')\n    },\n    onChange: function onChange(info) {\n      var status = info.file.status;\n      console.log(status);\n\n      if (status !== 'uploading') {\n        console.log(info.file, info.fileList);\n      }\n\n      console.log(info);\n\n      if (status === 'done') {\n        _message.success(\"\".concat(info.file.name, \" \\u4E0A\\u4F20\\u6210\\u529F.\"));\n\n        setFmt(info.fileList[0].response.file_path);\n      } else if (status === 'error') {\n        _message.error(\"\".concat(info.file.name, \" \\u4E0A\\u4F20\\u5931\\u8D25.\"));\n      }\n    }\n  };\n\n  var stopSave = function stopSave() {\n    localStorage.setItem('zancun', !zancun);\n    setZancun(!zancun);\n  };\n\n  var onSubmit = function onSubmit() {\n    if (!articleTitle) {\n      _message.error('文章标题不能为空');\n\n      return false;\n    } else if (!introducehtml) {\n      _message.error('文章简介不能为空');\n\n      return false;\n    } else if (!selectedType) {\n      _message.error('文章类型不能为空');\n\n      return false;\n    }\n\n    if (props && props.id != 0) {\n      var values = labValue.join(',');\n      var dataProps = {\n        'id': props.id,\n        'title': articleTitle,\n        'desc': introducehtml,\n        'category_id': selectedType,\n        'content': mdeValue,\n        'coin': coin,\n        'fmt': fmt,\n        'user_id': auth.id,\n        'biaoqian': values,\n        'baiduyu_url': baiduurl,\n        'baiduyu_pwd': baidupwd,\n        'count': count,\n        'status': auth.id == 1 ? 1 : 0\n      };\n      axios({\n        method: 'patch',\n        url: servicePath.getArticleDetail + props.id,\n        data: dataProps,\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('token')\n        },\n        transformResponse: function transformResponse(data) {\n          if (data.indexOf('errors') != -1) {\n            data = JSON.parse(data);\n\n            for (var item in data.errors) {\n              _message.error(data.errors[item][0]);\n            }\n          } else if (data.indexOf('Unauthenticated') != -1) {\n            source.cancel('方法被取消');\n            Router.push('/');\n          } else {\n            return data;\n          }\n        }\n      }).then(function (res) {\n        console.log(res);\n        Router.push('/');\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    } else {\n      var _dataProps = {\n        'title': articleTitle,\n        'desc': introducehtml,\n        'category_id': selectedType,\n        'content': mdeValue,\n        'coin': coin,\n        'fmt': fmt,\n        'user_id': auth.id,\n        'biaoqian': labValue,\n        'baiduyu_url': baiduurl,\n        'baiduyu_pwd': baidupwd,\n        'count': count,\n        'status': auth.id == 1 ? 1 : 0\n      };\n      axios({\n        method: 'post',\n        url: servicePath.addArticle,\n        data: _dataProps,\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('token')\n        },\n        transformResponse: function transformResponse(data) {\n          if (data.indexOf('errors') != -1) {\n            data = JSON.parse(data);\n\n            for (var item in data.errors) {\n              _message.error(data.errors[item][0]);\n            }\n          } else if (data.indexOf('Unauthenticated') != -1) {\n            Router.push('/');\n          } else {\n            return data;\n          }\n        }\n      }).then(function (res) {\n        console.log(res);\n        Router.push('/');\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  };\n\n  var getcategory = function getcategory() {\n    var CancelToken = axios.CancelToken;\n    var source = CancelToken.source();\n    axios({\n      method: 'get',\n      url: servicePath.getCategories,\n      cancelToken: source.token\n    }).then(function (res) {\n      source.cancel('方法被取消');\n      var options = [];\n\n      for (var i = 0; i < res.data.length; i++) {\n        options.push(__jsx(Option, {\n          key: res.data[i].id,\n          value: res.data[i].id.toString(36)\n        }, res.data[i].category_name));\n      }\n\n      setIsLoading(false);\n      setOptions(options);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  function handleChange2(value) {\n    getlabs(value);\n    setSelectType(value);\n  }\n\n  marked.setOptions({\n    renderer: new marked.Renderer(),\n    gfm: true,\n    pedantic: false,\n    sanitize: false,\n    tables: true,\n    breaks: false,\n    smartLists: true,\n    smartypants: false\n  });\n\n  var handleChange1 = function handleChange1(value) {\n    setLabValue(value);\n  };\n\n  var pr = {\n    uid: '-1',\n    name: 'file',\n    multiple: false,\n    action: servicePath.uploadArticleImage,\n    headers: {\n      'Authorization': 'Bearer ' + localStorage.getItem('token')\n    },\n    onChange: function onChange(info) {\n      console.log('info', info);\n      var status = info.file.status;\n\n      if (status !== 'uploading') {\n        console.log(info.file, info.fileList);\n      }\n\n      if (status === 'done') {\n        _message.success(\"\".concat(info.file.name, \" \\u4E0A\\u4F20\\u6210\\u529F.\"));\n\n        var valuefile = mdeValue + \"![file](\".concat(info.file.response.file_path, \")\");\n        console.log(valuefile);\n        setMdeValue(valuefile);\n        setVisible(false);\n      } else if (status === 'error') {\n        _message.error(\"\".concat(info.file.name, \" file upload failed.\"));\n      }\n    }\n  };\n\n  var handleCancel = function handleCancel(e) {\n    setVisible(false);\n  };\n\n  var changeIntroduce = function changeIntroduce(e) {\n    setIntroducemd(e.target.value);\n    var html = marked(e.target.value);\n    setIntroducehtml(html);\n  };\n\n  useEffect(function () {\n    if (isLoading) {\n      getcategory();\n      checkLogin();\n      getlabs(selectedType);\n    }\n  });\n  return __jsx(_Layout, {\n    className: \"ly\"\n  }, __jsx(Head, null, __jsx(\"title\", null, \"\\u535A\\u4EBA\\u5802 -- \\u7F16\\u8F91\\u6587\\u7AE0\")), __jsx(Content, {\n    className: \"content\"\n  }, __jsx(_Row, {\n    gutter: 5\n  }, __jsx(_Col, {\n    span: 18\n  }, __jsx(_Row, {\n    gutter: 10\n  }, __jsx(_Col, {\n    span: 20\n  }, __jsx(_Input, {\n    value: articleTitle,\n    onChange: function onChange(e) {\n      setArticleTitle(e.target.value);\n    },\n    placeholder: \"\\u6807\\u9898\",\n    size: \"large\"\n  })), __jsx(_Col, {\n    span: 4\n  }, \"\\xA0\", __jsx(_Select, {\n    onChange: handleChange2,\n    defaultValue: selectedType + '',\n    size: \"large\"\n  }, options))), __jsx(\"br\", null), __jsx(_Row, {\n    gutter: 10\n  }, __jsx(_Col, {\n    span: 24\n  }, __jsx(SimpleMDE, {\n    options: {\n      autofocus: true,\n      autosave: {\n        enabled: zancun,\n        uniqueId: \"MyUniqueID\",\n        delay: 1000\n      },\n      toolbar: ['bold', 'italic', 'heading', \"code\", \"table\", \"clean-block\", 'quote', 'horizontal-rule', 'unordered-list', 'ordered-list', 'link', {\n        name: 'image',\n        action: function action() {\n          showModal();\n        },\n        className: 'fa fa-file-image-o',\n        title: '上传'\n      }, 'preview', 'side-by-side', 'fullscreen'],\n      spellChecker: false\n    },\n    onChange: handleChange,\n    value: mdeValue\n  })))), __jsx(_Col, {\n    span: 6\n  }, __jsx(_Row, null, __jsx(_Col, {\n    span: 24\n  }, __jsx(_Button, {\n    type: zancun ? 'primary' : 'default',\n    size: \"large\",\n    onClick: stopSave\n  }, \"\\u6682\\u5B58\\u6587\\u7AE0\"), \"\\xA0\", __jsx(_Button, {\n    onClick: onSubmit,\n    type: \"primary\",\n    size: \"large\"\n  }, \"\\u53D1\\u5E03\"), __jsx(\"br\", null)), __jsx(_Col, {\n    span: 24\n  }, __jsx(\"br\", null), __jsx(TextArea, {\n    rows: 4,\n    style: {\n      height: 154\n    },\n    value: introducemd,\n    onChange: changeIntroduce,\n    onPressEnter: changeIntroduce,\n    placeholder: \"\\u7B80\\u4ECB\"\n  }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"div\", {\n    className: \"introduce-html\",\n    dangerouslySetInnerHTML: {\n      __html: '简介：' + introducehtml\n    }\n  })), __jsx(_Col, {\n    span: 24,\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(Dragger, prop, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\"\n  }, __jsx(_Icon, {\n    type: \"inbox\"\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\"\n  }, \"\\u70B9\\u51FB\\u6216\\u62D6\\u62FD\\u4E0A\\u4F20\\u5C01\\u9762\")), fmt && __jsx(\"img\", {\n    src: fmt,\n    style: {\n      width: '100%',\n      marginTop: 10\n    }\n  })), __jsx(_Col, {\n    span: 24,\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Select, {\n    mode: \"tags\",\n    type: {\n      isSelectOptGroup: false\n    },\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u6807\\u7B7E\",\n    value: labValue,\n    onChange: handleChange1\n  }, children)), __jsx(_Col, {\n    span: 24,\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Input, {\n    value: coin,\n    onChange: function onChange(e) {\n      setCoin(e.target.value);\n    },\n    placeholder: \"\\u652F\\u4ED8\\u79EF\\u5206\"\n  })), __jsx(_Col, {\n    span: 17,\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Input, {\n    value: baiduurl,\n    onChange: function onChange(e) {\n      setBaiduurl(e.target.value);\n    },\n    placeholder: \"\\u767E\\u5EA6\\u4E91\\u76D8\\u7684\\u94FE\\u63A5\\u5730\\u5740\"\n  })), __jsx(_Col, {\n    span: 1,\n    style: {\n      marginTop: '20px'\n    }\n  }), __jsx(_Col, {\n    span: 6,\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Input, {\n    value: baidupwd,\n    onChange: function onChange(e) {\n      setBaidupwd(e.target.value);\n    },\n    placeholder: \"\\u5BC6\\u7801\"\n  })), __jsx(_Col, {\n    span: 24,\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Input, {\n    value: count,\n    onChange: function onChange(e) {\n      setCount(e.target.value);\n    },\n    placeholder: \"\\u8BFE\\u7A0B\\u6570/\\u8D44\\u6E90\\u5927\\u5C0F\"\n  })))))), __jsx(_BackTop, null), __jsx(_Modal, {\n    footer: null,\n    title: \"\\u4E0A\\u4F20\\u56FE\\u7247\",\n    visible: visible,\n    onCancel: handleCancel\n  }, __jsx(Dragger, pr, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\"\n  }, __jsx(_Icon, {\n    type: \"inbox\"\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\"\n  }, \"\\u70B9\\u51FB\\u6216\\u62D6\\u62FD\\u4E0A\\u4F20\\u56FE\\u7247\"), __jsx(\"p\", {\n    className: \"ant-upload-hint\"\n  }, \"\\u652F\\u6301\\u5355\\u6B21\\u6216\\u6279\\u91CF\\u4E0A\\u4F20\\u3002\\u652F\\u6301\\u56FE\\u7247\\u683C\\u5F0F\\u6587\\u4EF6\"))));\n};\n\nCreateOrEdit.getInitialProps = function _callee(context) {\n  var id, promise;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          id = context.query.id;\n          console.log('id', typeof id != \"undefined\");\n\n          if (!(_JSON$stringify(context.query) != \"{}\" && typeof id != \"undefined\")) {\n            _context.next = 9;\n            break;\n          }\n\n          promise = new _Promise(function (resolve) {\n            axios(servicePath.getArticleDetail + id).then(function (res) {\n              resolve(res.data.data);\n            });\n          });\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(promise);\n\n        case 6:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 9:\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(new _Promise(function (resolve) {\n            setTimeout(function () {\n              resolve({});\n            }, 1000);\n          }));\n\n        case 11:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default CreateOrEdit;","map":{"version":3,"sources":["/Users/mac/Desktop/liy-blog/pages/create.js"],"names":["React","useState","useEffect","marked","axios","SimpleMDE","Head","servicePath","Router","Content","Option","TextArea","Dragger","CreateOrEdit","props","visible","setVisible","title","articleTitle","setArticleTitle","desc","introducemd","setIntroducemd","introducehtml","setIntroducehtml","category_id","selectedType","setSelectType","options","setOptions","isLoading","setIsLoading","coin","setCoin","baiduurl","setBaiduurl","baidupwd","setBaidupwd","count","setCount","fmt","setFmt","auth","setAuth","children","setChildren","zancun","setZancun","content","mdeValue","setMdeValue","tags","labValue","setLabValue","handleChange","value","showModal","checkLogin","CancelToken","source","global","token","method","url","getUserInfo","headers","localStorage","getItem","withCredentials","cancelToken","transformResponse","data","indexOf","JSON","parse","item","errors","error","then","res","cancel","console","log","eval","getlabs","getLabs","window","location","href","labs","push","label","prop","uid","name","multiple","action","uploadImage","onChange","info","status","file","fileList","success","response","file_path","stopSave","setItem","onSubmit","id","values","join","dataProps","getArticleDetail","addArticle","getcategory","getCategories","i","length","toString","category_name","handleChange2","renderer","Renderer","gfm","pedantic","sanitize","tables","breaks","smartLists","smartypants","handleChange1","pr","uploadArticleImage","valuefile","handleCancel","e","changeIntroduce","target","html","autofocus","autosave","enabled","uniqueId","delay","toolbar","className","spellChecker","height","__html","marginTop","width","isSelectOptGroup","getInitialProps","context","query","promise","resolve","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport marked from 'marked'\nimport axios from 'axios'\nimport SimpleMDE from \"react-simplemde-editor\";\nimport \"easymde/dist/easymde.min.css\";\nimport '../public/style/pages/index.css'\nimport '../public/style/pages/add.css'\nimport { Layout, Row, Col, Input, Select, Button, Upload, Modal, Icon, message, BackTop } from 'antd'\nimport Head from 'next/head'\nimport servicePath from '../config/apiUrl';\nimport Router from 'next/router'\n\nconst { Content } = Layout;\nconst Option = Select.Option;\nconst { TextArea } = Input\nconst { Dragger } = Upload;\n\nconst CreateOrEdit = (props) => {\n    const [visible, setVisible] =useState(false)\n    const [articleTitle, setArticleTitle] = useState(props.title?props.title:'')\n    const [introducemd, setIntroducemd] = useState(props.desc?props.desc:'')\n    const [introducehtml, setIntroducehtml] = useState(props.desc?props.desc:'等待编辑')\n    const [selectedType, setSelectType] = useState(props.category_id?props.category_id:1)\n    const [options, setOptions] = useState([])\n    const [isLoading, setIsLoading] = useState(true)\n    const [coin, setCoin] = useState(props.coin?props.coin:'')\n    const [baiduurl, setBaiduurl] = useState(props.baiduurl?props.baiduurl:'')\n    const [baidupwd, setBaidupwd] = useState(props.baidupwd?props.baidupwd:'')\n    const [count, setCount] = useState(props.count?props.count:'')\n    const [fmt, setFmt] = useState(props.fmt?props.fmt:'')\n    const [auth, setAuth] = useState()\n    const [children, setChildren] = useState([])\n    const [zancun, setZancun] = useState(false)\n    const [mdeValue, setMdeValue] = useState(props.content?props.content:'')//文章文章内容\n    const [labValue, setLabValue] = useState(props.tags?props.tags:[])//文章文章内容\n    const handleChange = value => {\n        setMdeValue(value)\n    };\n    const showModal = () => {\n        setVisible(true)\n    };\n\n    \n    const checkLogin = () => {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n        if (global.token != null) {\n            axios({\n                method: 'get',\n                url: servicePath.getUserInfo,\n                headers: {\n                    'Authorization': 'Bearer ' + localStorage.getItem('token'),\n                },\n                withCredentials: false,\n                cancelToken: source.token,\n                transformResponse:function(data){\n                    if(data.indexOf('errors')!=-1){\n                        data=JSON.parse(data);\n                        for(var item in data.errors){\n                            message.error(data.errors[item][0]);\n                        }\n                    }else if(data.indexOf('Unauthenticated')!=-1){\n                        global.token='';\n                        return data;\n                    }else{\n                        return data;\n                    }\n                }\n            }).then(\n                res => {\n                    source.cancel('方法被取消');\n                    setIsLoading(false)\n                    console.log(res);\n                    res.data=eval('(' + res.data + ')');\n                    console.log(res);\n                    setAuth(res.data.data);\n                }\n            ).catch(function (error) {\n                console.log(error)\n            });\n        } else {\n            console.log('asasdas')\n        }\n    }\n\n    const getlabs = (selectedType) => {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n        axios({\n            method: 'get',\n            url: servicePath.getLabs+'?id='+selectedType,\n            cancelToken: source.token,\n            transformResponse:function(data){\n                console.log(data)\n                if(data.indexOf('Unauthenticated')!=-1){\n                    source.cancel('方法被取消');\n                    window.location.href='/'\n                }else{\n                    return data;\n                }\n            }\n        }).then(\n            res => {\n                setIsLoading(false)\n                res.data=eval('(' + res.data + ')');\n                source.cancel('方法被取消');\n                let labs=[];\n                for(let item in res.data.data){\n                    labs.push(<Option key={item} value={res.data.data[item].label}>{res.data.data[item].label}</Option>)\n                }\n\n                setChildren(labs)\n            }\n        ).catch(function (error) {\n            console.log(error)\n        });\n    }\n\n    const prop = {\n        uid: '-2',\n        name: 'upload_file',\n        multiple: false,\n        action: servicePath.uploadImage,\n        headers: {\n            'Authorization': 'Bearer ' + localStorage.getItem('token'),\n        },\n        onChange(info) {\n            const { status } = info.file;\n            console.log(status)\n            if (status !== 'uploading') {\n                console.log(info.file, info.fileList);\n            }\n            console.log(info)\n            if (status === 'done') {\n                message.success(`${info.file.name} 上传成功.`);\n                setFmt(info.fileList[0].response.file_path)\n            } else if (status === 'error') {\n                message.error(`${info.file.name} 上传失败.`);\n            }\n        },\n    };\n\n    const stopSave = () => {\n        localStorage.setItem('zancun', !zancun)\n        setZancun(!zancun)\n    }\n\n    const onSubmit = () => {\n        if (!articleTitle) {\n            message.error('文章标题不能为空')\n            return false\n        } else if (!introducehtml) {\n            message.error('文章简介不能为空')\n            return false\n        } else if (!selectedType) {\n            message.error('文章类型不能为空')\n            return false\n        }\n\n        if (props&&props.id!= 0) {\n            let values = labValue.join(',')\n            let dataProps = {\n                'id': props.id,\n                'title': articleTitle,\n                'desc': introducehtml,\n                'category_id': selectedType,\n                'content': mdeValue,\n                'coin': coin,\n                'fmt': fmt,\n                'user_id': auth.id,\n                'biaoqian': values,\n                'baiduyu_url': baiduurl,\n                'baiduyu_pwd': baidupwd,\n                'count': count,\n                'status': auth.id == 1 ? 1 : 0,\n            }\n\n            \n\n            axios({\n                method: 'patch',\n                url: servicePath.getArticleDetail + props.id,\n                data: dataProps,\n                headers: {\n                    'Authorization': 'Bearer ' + localStorage.getItem('token'),\n                }, transformResponse: function (data) {\n                    if (data.indexOf('errors') != -1) {\n                        data = JSON.parse(data);\n                        for (var item in data.errors) {\n                            message.error(data.errors[item][0]);\n                        }\n                    } else if (data.indexOf('Unauthenticated') != -1) {\n                        source.cancel('方法被取消');\n                        Router.push('/')\n                    } else {\n                        return data;\n                    }\n                }\n            }).then(\n                res => {\n                    console.log(res)\n                    Router.push('/')\n                }\n            ).catch(function (error) {\n                console.log(error)\n            });\n\n        } else {\n            let dataProps = {\n                'title': articleTitle,\n                'desc': introducehtml,\n                'category_id': selectedType,\n                'content': mdeValue,\n                'coin': coin,\n                'fmt': fmt,\n                'user_id': auth.id,\n                'biaoqian': labValue,\n                'baiduyu_url': baiduurl,\n                'baiduyu_pwd': baidupwd,\n                'count': count,\n                'status': auth.id == 1 ? 1 : 0,\n            }\n\n            axios({\n                method: 'post',\n                url: servicePath.addArticle,\n                data: dataProps,\n                headers: {\n                    'Authorization': 'Bearer ' + localStorage.getItem('token'),\n                }, transformResponse: function (data) {\n                    if (data.indexOf('errors') != -1) {\n                        data = JSON.parse(data);\n                        for (var item in data.errors) {\n                            message.error(data.errors[item][0]);\n                        }\n                    } else if (data.indexOf('Unauthenticated') != -1) {\n                        Router.push('/')\n                    } else {\n                        return data;\n                    }\n                }\n            }).then(\n                res => {\n                    console.log(res)\n                    Router.push('/')\n                }\n            ).catch(function (error) {\n                console.log(error)\n            });\n        }\n    }\n\n    const getcategory = () => {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n        axios({\n            method: 'get',\n            url: servicePath.getCategories,\n            cancelToken: source.token,\n        }).then(\n            res => {\n                source.cancel('方法被取消');\n                let options = [];\n                for (let i = 0; i < res.data.length; i++) {\n                    options.push(<Option key={res.data[i].id} value={res.data[i].id.toString(36)}>{res.data[i].category_name}</Option>)\n                }\n                setIsLoading(false)\n                setOptions(options)\n            }\n        ).catch(function (error) {\n            console.log(error)\n        });\n    }\n\n    function handleChange2(value) {\n        getlabs(value)\n        setSelectType(value)\n    }\n\n\n\n    marked.setOptions({\n        renderer: new marked.Renderer(),\n        gfm: true,\n        pedantic: false,\n        sanitize: false,\n        tables: true,\n        breaks: false,\n        smartLists: true,\n        smartypants: false,\n    });\n\n\n\n    const handleChange1 = value => {\n        setLabValue(value)\n    }\n\n    const pr = {\n        uid: '-1',\n        name: 'file',\n        multiple: false,\n        action: servicePath.uploadArticleImage,\n        headers: {\n            'Authorization': 'Bearer ' + localStorage.getItem('token'),\n        },\n        onChange(info) {\n            console.log('info', info)\n            const { status } = info.file;\n\n            if (status !== 'uploading') {\n                console.log(info.file, info.fileList);\n            }\n            if (status === 'done') {\n                message.success(`${info.file.name} 上传成功.`);\n                let valuefile = mdeValue + `![file](${info.file.response.file_path})`;\n                console.log(valuefile)\n                setMdeValue(valuefile)\n                setVisible(false)\n            } else if (status === 'error') {\n                message.error(`${info.file.name} file upload failed.`);\n            }\n        },\n    };\n\n    const handleCancel = e => {\n        setVisible(false)\n    };\n\n    const changeIntroduce = (e) => {\n        setIntroducemd(e.target.value)\n        let html = marked(e.target.value)\n        setIntroducehtml(html)\n    }\n\n    useEffect(() => {\n        if (isLoading) {\n            getcategory()\n            checkLogin()\n            getlabs(selectedType);\n        }\n    })\n\n\n    return (\n        <Layout className=\"ly\">\n            <Head>\n                <title>博人堂 -- 编辑文章</title>\n            </Head>\n            <Content className=\"content\">\n                <Row gutter={5}>\n                    <Col span={18}>\n                        <Row gutter={10} >\n                            <Col span={20}>\n                                <Input\n                                    value={articleTitle}\n                                    onChange={(e) => { setArticleTitle(e.target.value) }}\n                                    placeholder=\"标题\"\n                                    size=\"large\" />\n                            </Col>\n                            <Col span={4}>\n                                &nbsp;\n                                <Select\n                                    onChange={handleChange2}\n                                    defaultValue={selectedType + ''}\n                                    size=\"large\">\n                                    {options}\n                                </Select>\n                            </Col>\n                        </Row>\n                        <br />\n                        <Row gutter={10} >\n                            <Col span={24}>\n                                <SimpleMDE options={{\n                                    autofocus: true,\n                                    autosave: { enabled: zancun, uniqueId: \"MyUniqueID\", delay: 1000, },\n                                    toolbar: ['bold', 'italic', 'heading',\n                                        \"code\", \"table\", \"clean-block\", 'quote',\n                                        'horizontal-rule', 'unordered-list',\n                                        'ordered-list', 'link',\n                                        {\n                                            name: 'image',\n                                            action: () => {\n                                                showModal()\n                                            },\n                                            className: 'fa fa-file-image-o',\n                                            title: '上传',\n                                        }, 'preview',\n                                        'side-by-side', 'fullscreen'],\n                                    spellChecker: false\n                                }}\n                                    onChange={handleChange}\n                                    value={mdeValue}\n                                />\n                            </Col>\n                        </Row>\n\n                    </Col>\n\n                    <Col span={6}>\n                        <Row>\n                            <Col span={24}>\n                                <Button type={zancun ? 'primary' : 'default'} size=\"large\" onClick={stopSave}>暂存文章</Button>&nbsp;\n                                <Button onClick={onSubmit} type=\"primary\" size=\"large\" >发布</Button>\n                                <br />\n                            </Col>\n\n                            <Col span={24}>\n                                <br />\n                                <TextArea\n                                    rows={4}\n                                    style={{ height: 154 }}\n                                    value={introducemd}\n                                    onChange={changeIntroduce}\n                                    onPressEnter={changeIntroduce}\n                                    placeholder=\"简介\"\n                                />\n                                <br /><br />\n                                <div\n                                    className=\"introduce-html\"\n                                    dangerouslySetInnerHTML={{ __html: '简介：' + introducehtml }} >\n                                </div>\n                            </Col>\n\n                            <Col span={24} style={{ marginTop: '20px' }}>\n                                <Dragger {...prop}>\n                                    <p className=\"ant-upload-drag-icon\">\n                                        <Icon type=\"inbox\" />\n                                    </p>\n                                    <p className=\"ant-upload-text\">点击或拖拽上传封面</p>\n                                </Dragger>\n                                {fmt && <img src={fmt} style={{ width: '100%', marginTop: 10 }} />}\n                            </Col>\n\n                            <Col span={24} style={{ marginTop: '20px' }}>\n                                <Select\n                                    mode=\"tags\"\n                                    type={{ isSelectOptGroup: false }}\n                                    style={{ width: '100%' }}\n                                    placeholder=\"标签\"\n                                    value={labValue}\n                                    onChange={handleChange1}\n                                >\n                                    {children}\n                                </Select>\n                            </Col>\n\n                            <Col span={24} style={{ marginTop: '20px' }}>\n                                <Input\n                                    value={coin}\n                                    onChange={(e) => { setCoin(e.target.value) }}\n                                    placeholder=\"支付积分\" />\n                            </Col>\n\n                            <Col span={17} style={{ marginTop: '20px' }}>\n                                <Input\n                                    value={baiduurl}\n                                    onChange={(e) => { setBaiduurl(e.target.value) }}\n                                    placeholder=\"百度云盘的链接地址\" />\n                            </Col>\n\n                            <Col span={1} style={{ marginTop: '20px' }}>\n                            </Col>\n\n\n                            <Col span={6} style={{ marginTop: '20px' }}>\n                                <Input\n                                    value={baidupwd}\n                                    onChange={(e) => { setBaidupwd(e.target.value) }}\n                                    placeholder=\"密码\" />\n                            </Col>\n\n                            <Col span={24} style={{ marginTop: '20px' }}>\n                                <Input\n                                    value={count}\n                                    onChange={(e) => { setCount(e.target.value) }}\n                                    placeholder=\"课程数/资源大小\" />\n                            </Col>\n                        </Row>\n                    </Col>\n                </Row>\n            </Content>\n            <BackTop />\n            <Modal\n                footer={null}\n                title=\"上传图片\"\n                visible={visible} onCancel={handleCancel}>\n\n                <Dragger {...pr}>\n                    <p className=\"ant-upload-drag-icon\">\n                        <Icon type=\"inbox\" />\n                    </p>\n                    <p className=\"ant-upload-text\">点击或拖拽上传图片</p>\n                    <p className=\"ant-upload-hint\">\n                        支持单次或批量上传。支持图片格式文件\n                    </p>\n                </Dragger>\n            </Modal>\n        </Layout>\n    )\n}\n\nCreateOrEdit.getInitialProps = async (context) => {\n    let id = context.query.id\n    console.log('id', typeof id != \"undefined\")\n    if (JSON.stringify(context.query) != \"{}\" && typeof id != \"undefined\") {\n        const promise = new Promise((resolve) => {\n            axios(servicePath.getArticleDetail + id).then(\n                (res) => {\n                    resolve(res.data.data)\n                }\n            )\n        })\n        return await promise\n    }else{\n        return await new Promise(resolve => {\n            setTimeout(() => {\n                resolve({})\n            }, 1000)\n        })\n    }\n}\n\nexport default CreateOrEdit"]},"metadata":{},"sourceType":"module"}