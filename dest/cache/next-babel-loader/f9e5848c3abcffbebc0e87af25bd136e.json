{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport servicePath from '../config/apiUrl';\n\nfunction ArticleData(page, pageSize, keywords, labels, category_id) {\n  const {\n    0: listData,\n    1: setListData\n  } = useState([]);\n  const {\n    0: total,\n    1: setTotal\n  } = useState(0);\n  useEffect(() => {\n    let dataProps = '?category_id=' + category_id;\n    dataProps += '&pageSize=' + pageSize;\n    dataProps += '&page=' + page;\n\n    if (keywords != '') {\n      dataProps += '&p=' + keywords;\n    }\n\n    if (labels != null) {\n      console.log('234', labels);\n      let str = '';\n\n      for (let i = 0; i < labels.length; i++) {\n        str += labels[i];\n      }\n\n      dataProps += '&p=' + str;\n    }\n\n    axios({\n      method: 'get',\n      url: servicePath.getArticleList + dataProps\n    }).then(res => {\n      for (let item in res.data.data) {\n        res.data.data[item].biaoqian = res.data.data[item].biaoqian.split(\",\");\n        res.data.data[item].labes = res.data.data[item].biaoqian[0];\n        res.data.data[item].href = \"/detail?id=\" + res.data.data[item].id;\n      }\n\n      setListData(res.data.data);\n      setTotal(res.data.meta.total);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n  return {\n    listData,\n    total\n  };\n}","map":{"version":3,"sources":["/Users/mac/Desktop/liy-blog/components/ArticleHook.jsx"],"names":["React","useEffect","useState","axios","servicePath","ArticleData","page","pageSize","keywords","labels","category_id","listData","setListData","total","setTotal","dataProps","console","log","str","i","length","method","url","getArticleList","then","res","item","data","biaoqian","split","labes","href","id","meta","catch","error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;;AAEA,SAASC,WAAT,CAAsBC,IAAtB,EAA4BC,QAA5B,EAAsCC,QAAtC,EAAgDC,MAAhD,EAAwDC,WAAxD,EAAqE;AACjE,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BV,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACW,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,QAAQ,CAAC,CAAD,CAAlC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,SAAS,GAAC,kBAAgBL,WAA9B;AACAK,IAAAA,SAAS,IAAE,eAAaR,QAAxB;AACAQ,IAAAA,SAAS,IAAE,WAAST,IAApB;;AACA,QAAGE,QAAQ,IAAE,EAAb,EAAgB;AACZO,MAAAA,SAAS,IAAE,QAAMP,QAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,IAAb,EAAkB;AACdO,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBR,MAAlB;AACA,UAAIS,GAAG,GAAC,EAAR;;AACA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACV,MAAM,CAACW,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAC5BD,QAAAA,GAAG,IAAET,MAAM,CAACU,CAAD,CAAX;AACH;;AACDJ,MAAAA,SAAS,IAAE,QAAMG,GAAjB;AACH;;AACDf,IAAAA,KAAK,CAAC;AACFkB,MAAAA,MAAM,EAAE,KADN;AAEFC,MAAAA,GAAG,EAAElB,WAAW,CAACmB,cAAZ,GAA2BR;AAF9B,KAAD,CAAL,CAGGS,IAHH,CAIIC,GAAG,IAAI;AACH,WAAI,IAAIC,IAAR,IAAgBD,GAAG,CAACE,IAAJ,CAASA,IAAzB,EAA8B;AAC1BF,QAAAA,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcD,IAAd,EAAoBE,QAApB,GAA6BH,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcD,IAAd,EAAoBE,QAApB,CAA6BC,KAA7B,CAAmC,GAAnC,CAA7B;AACAJ,QAAAA,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcD,IAAd,EAAoBI,KAApB,GAA4BL,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcD,IAAd,EAAoBE,QAApB,CAA6B,CAA7B,CAA5B;AACAH,QAAAA,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcD,IAAd,EAAoBK,IAApB,GAAyB,gBAAcN,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAcD,IAAd,EAAoBM,EAA3D;AACH;;AACDpB,MAAAA,WAAW,CAACa,GAAG,CAACE,IAAJ,CAASA,IAAV,CAAX;AACAb,MAAAA,QAAQ,CAACW,GAAG,CAACE,IAAJ,CAASM,IAAT,CAAcpB,KAAf,CAAR;AACH,KAZL,EAaEqB,KAbF,CAaQ,UAAUC,KAAV,EAAiB;AACrBnB,MAAAA,OAAO,CAACC,GAAR,CAAYkB,KAAZ;AACH,KAfD;AAkBH,GAlCQ,EAkCP,EAlCO,CAAT;AAoCA,SAAO;AACHxB,IAAAA,QADG;AACOE,IAAAA;AADP,GAAP;AAGH","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nimport axios from 'axios'\nimport servicePath from '../config/apiUrl';\n\nfunction ArticleData (page, pageSize, keywords, labels, category_id) {\n    const [listData, setListData ]= useState([]);\n    const [total, setTotal] = useState(0)\n    useEffect(() => {\n        let dataProps='?category_id='+category_id;\n        dataProps+='&pageSize='+pageSize;\n        dataProps+='&page='+page;\n        if(keywords!=''){\n            dataProps+='&p='+keywords\n        }\n\n        if(labels != null){\n            console.log('234',labels)\n            let str='';\n            for(let i=0;i<labels.length;i++){\n                str+=labels[i]\n            }\n            dataProps+='&p='+str\n        }\n        axios({\n            method: 'get',\n            url: servicePath.getArticleList+dataProps,\n        }).then(\n            res => {\n                for(let item in res.data.data){\n                    res.data.data[item].biaoqian=res.data.data[item].biaoqian.split(\",\");\n                    res.data.data[item].labes = res.data.data[item].biaoqian[0];\n                    res.data.data[item].href=\"/detail?id=\"+res.data.data[item].id\n                }\n                setListData(res.data.data)\n                setTotal(res.data.meta.total)\n            }\n        ).catch(function (error) {\n            console.log(error)\n        });\n\n\n    },[])\n\n    return {\n        listData, total\n    }\n}\n"]},"metadata":{},"sourceType":"module"}