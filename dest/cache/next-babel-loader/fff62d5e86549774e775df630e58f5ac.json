{"ast":null,"code":"import _Upload from \"antd/lib/upload\";\nimport _Button from \"antd/lib/button\";\nimport _Icon from \"antd/lib/icon\";\nimport _Tag from \"antd/lib/tag\";\nimport _Form from \"antd/lib/form\";\nimport _Input from \"antd/lib/input\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _message from \"antd/lib/message\";\nimport _Select from \"antd/lib/select\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState } from 'react';\nimport axios from \"axios\";\nimport servicePath from '../config/apiUrl';\nconst {\n  Option\n} = _Select;\n\nconst BaseView = () => {\n  const newTag = useRef(null);\n  const {\n    0: user,\n    1: setUser\n  } = useState();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(true);\n  const {\n    0: inputValue,\n    1: setinputValue\n  } = useState();\n  const {\n    0: inputVisible,\n    1: setInputVisible\n  } = useState(false);\n  const {\n    0: newTags,\n    1: setNewTags\n  } = useState([]);\n  const {\n    0: avatar,\n    1: setAvatar\n  } = useState();\n  const {\n    0: email,\n    1: setEmail\n  } = useState();\n  const {\n    0: nickname,\n    1: setNickname\n  } = useState();\n  const {\n    0: introduce,\n    1: setIntroduce\n  } = useState();\n  const {\n    0: professional,\n    1: setProfessional\n  } = useState();\n  const {\n    0: company,\n    1: setCompany\n  } = useState();\n  const {\n    0: provinceId,\n    1: setProvinceId\n  } = useState();\n  const {\n    0: cityId,\n    1: setCityId\n  } = useState();\n  const {\n    0: provinceData,\n    1: setProvinceData\n  } = useState();\n  const {\n    0: cityData,\n    1: setCityData\n  } = useState();\n  const {\n    0: cities,\n    1: setCities\n  } = useState();\n  const {\n    0: secondCity,\n    1: setSecondCity\n  } = useState();\n  const {\n    0: token,\n    1: setToken\n  } = useState();\n\n  const getProvinces = provinceId => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    axios({\n      method: 'get',\n      url: servicePath.getProvinces,\n      withCredentials: false,\n      cancelToken: source.token\n    }).then(res => {\n      source.cancel('方法被取消');\n      console.log('qweqweqw', res.data);\n      let defualt = '';\n\n      for (let i = 0; i < res.data.length; i++) {\n        if (provinceId && res.data[i].id == provinceId) {\n          defualt = res.data[i].name;\n        }\n      }\n\n      if (res.data) {\n        setProvinceData(__jsx(_Select, {\n          defaultValue: defualt == '' ? res.data[0].name : defualt,\n          style: {\n            width: 120\n          },\n          onChange: handleProvinceChange\n        }, res.data.map(province => __jsx(Option, {\n          key: province.id\n        }, province.name))));\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const getCity = (id, cityId) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    axios({\n      method: 'get',\n      url: servicePath.getCity + '?id=' + id,\n      withCredentials: false,\n      cancelToken: source.token\n    }).then(res => {\n      setCities(res.data[0].children);\n      setCityData(res.data[0].children.map(city => __jsx(Option, {\n        key: city.id\n      }, city.name)));\n      setSecondCity(res.data[0].children[0]);\n\n      for (let item in res.data[0].children) {\n        console.log('1', res.data[0].children[item].id);\n        console.log('2', cityId);\n\n        if (res.data[0].children[item].id == cityId) {\n          setSecondCity(res.data[0].children[item]);\n        }\n      }\n\n      source.cancel('方法被取消');\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }; //获取会员数据\n\n\n  const checkLogin = () => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    axios({\n      method: 'get',\n      url: servicePath.getUserInfo,\n      headers: {\n        'Authorization': 'Bearer ' + token\n      },\n      withCredentials: false,\n      cancelToken: source.token,\n      transformResponse: function (data) {\n        if (data.indexOf('errors') != -1) {\n          data = JSON.parse(data);\n\n          for (var item in data.errors) {\n            _message.error(data.errors[item][0]);\n          }\n        } else if (data.indexOf('Unauthenticated') != -1) {\n          localStorage.removeItem('token');\n          return data;\n        } else {\n          return data;\n        }\n      }\n    }).then(res => {\n      source.cancel('方法被取消');\n      setIsLoading(false);\n      console.log('user123', res.data);\n      res.data = eval('(' + res.data + ')');\n      console.log('user1', res.data.data);\n      setUser(res.data.data);\n      setIntroduce(res.data.data.introduction);\n      setAvatar(res.data.data.avatar);\n      setNickname(res.data.data.name);\n      setEmail(res.data.data.email);\n      getThird(res.data.data.id);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const handlerSubmit = () => {\n    let dataProps = {};\n    dataProps.email = email;\n    dataProps.nickname = nickname;\n    dataProps.introduction = introduce;\n    dataProps.avatar = avatar;\n    dataProps.tags = newTags.length > 0 ? newTags.join(',') : [];\n    dataProps.professional = professional;\n    dataProps.company = company;\n    dataProps.province_id = provinceId;\n    dataProps.city_id = cityId;\n    dataProps.user_id = user.id;\n    axios({\n      method: 'post',\n      url: servicePath.saveThird,\n      headers: {\n        'Authorization': 'Bearer ' + token\n      },\n      data: dataProps\n    }).then(res => {\n      console.log(res);\n\n      _message.success(res.data.msg);\n\n      window.location.href = \"/\";\n    });\n  };\n\n  const getThird = id => {\n    axios({\n      method: 'get',\n      url: servicePath.getThird + '?user_id=' + id,\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(res => {\n      if (res.data.data) {\n        console.log('third', res.data.data);\n        let arr = res.data.data.tags ? res.data.data.tags.split(\",\") : [];\n        console.log(arr);\n        setNewTags(arr);\n        setCompany(res.data.data.company);\n        setProfessional(res.data.data.professional);\n        setProvinceId(res.data.data.province_id);\n        setCityId(res.data.data.city_id);\n        console.log('province', provinceId);\n        getProvinces(res.data.data.province_id ? res.data.data.province_id : 1);\n        getCity(res.data.data.province_id ? res.data.data.province_id : 1, res.data.data.city_id ? res.data.data.city_id : 1);\n      }\n    });\n  };\n\n  const handleInputChange = e => {\n    setinputValue(e.target.value);\n  };\n\n  const handleInputConfirm = () => {\n    let arr = newTags;\n\n    if (inputValue && newTags.indexOf(inputValue) === -1) {\n      arr.push(inputValue);\n    }\n\n    setNewTags(arr);\n    setinputValue('');\n    setInputVisible(false);\n  };\n\n  const showInput = () => {\n    setInputVisible(true);\n  };\n\n  const handleProvinceChange = value => {\n    setProvinceId(value);\n    getProvinces(provinceId);\n    getCity(provinceId, value);\n  };\n\n  const onSecondCityChange = value => {\n    setCityId(value);\n\n    for (let item in cities) {\n      console.log(_parseInt(cities[item]['id']) == value);\n\n      if (_parseInt(cities[item]['id']) == value) {\n        console.log(cities[item]);\n        setSecondCity(cities[item]);\n      }\n    }\n  };\n\n  const handleUploadChange = ({\n    file\n  }) => {\n    console.log(file);\n\n    switch (file.status) {\n      case 'done':\n        _message.destroy();\n\n        _message.success('上传成功！'); // @ts-ignore\n\n\n        setAvatar(file.response.file_path);\n        break;\n\n      case 'error':\n        _message.destroy();\n\n        _message.error(file.response.message);\n\n        break;\n    }\n  };\n\n  useEffect(() => {\n    setToken(localStorage.getItem('token'));\n\n    if (isLoading) {\n      checkLogin();\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: \"baseView\"\n  }, __jsx(\"div\", {\n    className: \"left\"\n  }, __jsx(_Form, {\n    layout: \"vertical\",\n    hideRequiredMark: true\n  }, __jsx(_Form.Item, {\n    label: \"\\u90AE\\u7BB1\"\n  }, __jsx(_Input, {\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    value: email\n  })), __jsx(_Form.Item, {\n    label: \"\\u6635\\u79F0\"\n  }, __jsx(_Input, {\n    onChange: e => {\n      setNickname(e.target.value);\n    },\n    value: nickname\n  })), __jsx(_Form.Item, {\n    label: \"\\u4E2A\\u4EBA\\u7B80\\u4ECB\"\n  }, __jsx(_Input.TextArea, {\n    placeholder: \"\\u4E2A\\u4EBA\\u7B80\\u4ECB\",\n    rows: 4,\n    onChange: e => {\n      setIntroduce(e.target.value);\n    },\n    value: introduce\n  })), __jsx(_Form.Item, {\n    label: \"\\u6807\\u7B7E\"\n  }, __jsx(\"div\", {\n    className: \"tags\",\n    style: {\n      lineHeight: '30px'\n    }\n  }, newTags && newTags.map(item => __jsx(_Tag, {\n    key: item\n  }, item)), inputVisible && __jsx(_Input, {\n    ref: newTag,\n    type: \"text\",\n    size: \"small\",\n    style: {\n      width: 78\n    },\n    value: inputValue,\n    onChange: handleInputChange,\n    onBlur: handleInputConfirm,\n    onPressEnter: handleInputConfirm\n  }), !inputVisible && __jsx(_Tag, {\n    onClick: showInput,\n    style: {\n      background: '#fff',\n      borderStyle: 'dashed'\n    }\n  }, __jsx(_Icon, {\n    type: \"plus\"\n  })))), __jsx(_Form.Item, {\n    label: \"\\u804C\\u79F0\"\n  }, __jsx(_Input, {\n    onChange: e => {\n      setProfessional(e.target.value);\n    },\n    value: professional\n  })), __jsx(_Form.Item, {\n    label: \"\\u516C\\u53F8\"\n  }, __jsx(_Input, {\n    onChange: e => {\n      setCompany(e.target.value);\n    },\n    value: company\n  })), __jsx(_Form.Item, {\n    label: \"\\u6240\\u5728\\u57CE\\u5E02\"\n  }, provinceData, __jsx(_Select, {\n    style: {\n      width: 120,\n      marginLeft: 10\n    },\n    value: secondCity ? secondCity.name : '',\n    onChange: onSecondCityChange\n  }, cityData)), __jsx(_Button, {\n    type: \"primary\",\n    onClick: handlerSubmit\n  }, \"\\u66F4\\u65B0\\u4FE1\\u606F\"))), __jsx(\"div\", {\n    className: \"right\"\n  }, __jsx(\"div\", {\n    className: \"avatar_title\"\n  }, \"\\u7528\\u6237\\u5934\\u50CF\"), __jsx(\"div\", {\n    className: \"avatar\"\n  }, __jsx(\"img\", {\n    style: {\n      borderRadius: '50%'\n    },\n    src: avatar,\n    alt: \"avatar\"\n  })), __jsx(_Upload, {\n    accept: \"image/*\",\n    name: \"file\",\n    className: \"upload\",\n    action: servicePath.uploadArticleImage,\n    showUploadList: false,\n    headers: {\n      Authorization: 'Bearer ' + token\n    },\n    onChange: handleUploadChange\n  }, __jsx(\"div\", {\n    className: \"button_view\"\n  }, __jsx(_Button, {\n    icon: \"upload\"\n  }, \"\\u4E0A\\u4F20\\u5934\\u50CF\")))));\n};\n\nexport default BaseView;","map":{"version":3,"sources":["/Users/mac/Desktop/liy-blog/components/BaseView.jsx"],"names":["React","useEffect","useRef","useState","axios","servicePath","Option","BaseView","newTag","user","setUser","isLoading","setIsLoading","inputValue","setinputValue","inputVisible","setInputVisible","newTags","setNewTags","avatar","setAvatar","email","setEmail","nickname","setNickname","introduce","setIntroduce","professional","setProfessional","company","setCompany","provinceId","setProvinceId","cityId","setCityId","provinceData","setProvinceData","cityData","setCityData","cities","setCities","secondCity","setSecondCity","token","setToken","getProvinces","CancelToken","source","method","url","withCredentials","cancelToken","then","res","cancel","console","log","data","defualt","i","length","id","name","width","handleProvinceChange","map","province","catch","error","getCity","children","city","item","checkLogin","getUserInfo","headers","transformResponse","indexOf","JSON","parse","errors","localStorage","removeItem","eval","introduction","getThird","handlerSubmit","dataProps","tags","join","province_id","city_id","user_id","saveThird","success","msg","window","location","href","arr","split","handleInputChange","e","target","value","handleInputConfirm","push","showInput","onSecondCityChange","handleUploadChange","file","status","destroy","response","file_path","message","getItem","lineHeight","background","borderStyle","marginLeft","borderRadius","uploadArticleImage","Authorization"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Button, Form, Input, Select, Upload, message, Tag, Icon, Modal } from 'antd';\nimport axios from \"axios\";\nimport servicePath from '../config/apiUrl';\n\nconst { Option } = Select;\n\n\nconst BaseView = () => {\n    const newTag = useRef(null)\n    const [user, setUser] = useState()\n    const [isLoading, setIsLoading] = useState(true)\n    const [inputValue, setinputValue] = useState()\n    const [inputVisible, setInputVisible] = useState(false)\n    const [newTags, setNewTags] = useState([])\n    const [avatar, setAvatar] = useState()\n    const [email, setEmail] = useState()\n    const [nickname, setNickname] = useState()\n    const [introduce, setIntroduce] = useState()\n    const [professional, setProfessional] = useState()\n    const [company, setCompany] = useState()\n    const [provinceId, setProvinceId] = useState()\n    const [cityId, setCityId] = useState()\n\n    const [provinceData, setProvinceData] = useState();\n\n    const [cityData, setCityData] = useState();\n\n    const [cities, setCities] = useState();\n\n    const [secondCity, setSecondCity] = useState()\n\n    const [token, setToken] = useState()\n\n\n    const getProvinces = (provinceId) => {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n        axios({\n            method: 'get',\n            url: servicePath.getProvinces,\n            withCredentials: false,\n            cancelToken: source.token,\n        }).then(\n            res => {\n                source.cancel('方法被取消');\n                console.log('qweqweqw', res.data);\n                let defualt = '';\n                for (let i = 0; i < res.data.length; i++) {\n                    if (provinceId && res.data[i].id == provinceId) {\n                        defualt = res.data[i].name\n                    }\n                }\n\n\n\n                if (res.data) {\n                    setProvinceData(\n                        <Select\n                            defaultValue={defualt == '' ? res.data[0].name : defualt}\n                            style={{ width: 120 }}\n                            onChange={handleProvinceChange}\n                        >\n                            {res.data.map(province => (\n                                <Option key={province.id}>{province.name}</Option>\n                            ))}\n                        </Select>\n                    );\n\n\n                }\n\n            }\n        ).catch(function (error) {\n            console.log(error)\n        });\n\n    }\n\n    const getCity = (id, cityId) => {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n        axios({\n            method: 'get',\n            url: servicePath.getCity + '?id=' + id,\n            withCredentials: false,\n            cancelToken: source.token,\n        }).then(\n            res => {\n                setCities(res.data[0].children)\n                setCityData(res.data[0].children.map(city => (\n                    <Option key={city.id}>{city.name}</Option>\n                )));\n\n                setSecondCity(res.data[0].children[0])\n\n                for (let item in res.data[0].children) {\n                    console.log('1', res.data[0].children[item].id)\n                    console.log('2', cityId)\n                    if (res.data[0].children[item].id == cityId) {\n                        setSecondCity(res.data[0].children[item])\n                    }\n                }\n\n\n\n                source.cancel('方法被取消');\n            }\n        ).catch(function (error) {\n            console.log(error)\n        });\n    }\n\n    //获取会员数据\n    const checkLogin = () => {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n\n        axios({\n            method: 'get',\n            url: servicePath.getUserInfo,\n            headers: {\n                'Authorization': 'Bearer ' + token,\n            },\n            withCredentials: false,\n            cancelToken: source.token,\n            transformResponse: function (data) {\n                if (data.indexOf('errors') != -1) {\n                    data = JSON.parse(data);\n                    for (var item in data.errors) {\n                        message.error(data.errors[item][0]);\n                    }\n                } else if (data.indexOf('Unauthenticated') != -1) {\n                    localStorage.removeItem('token')\n                    return data;\n                } else {\n                    return data;\n                }\n            }\n        }).then(\n            res => {\n                source.cancel('方法被取消');\n                setIsLoading(false)\n                console.log('user123', res.data)\n                res.data = eval('(' + res.data + ')');\n                console.log('user1', res.data.data)\n                setUser(res.data.data);\n                setIntroduce(res.data.data.introduction)\n                setAvatar(res.data.data.avatar)\n                setNickname(res.data.data.name)\n                setEmail(res.data.data.email)\n                getThird(res.data.data.id)\n            }\n        ).catch(function (error) {\n            console.log(error)\n        });\n    }\n\n    const handlerSubmit = () => {\n        let dataProps = {}\n        dataProps.email = email;\n        dataProps.nickname = nickname;\n        dataProps.introduction = introduce;\n        dataProps.avatar = avatar;\n        dataProps.tags = newTags.length > 0 ? newTags.join(',') : [];\n        dataProps.professional = professional;\n        dataProps.company = company;\n        dataProps.province_id = provinceId;\n        dataProps.city_id = cityId;\n        dataProps.user_id = user.id;\n        axios({\n            method: 'post',\n            url: servicePath.saveThird,\n            headers: {\n                'Authorization': 'Bearer ' + token,\n            },\n            data: dataProps\n        }).then(res => {\n            console.log(res);\n            message.success(res.data.msg)\n            window.location.href = \"/\"\n        })\n    }\n\n    const getThird = (id) => {\n        axios({\n            method: 'get',\n            url: servicePath.getThird + '?user_id=' + id,\n            headers: {\n                'Authorization': 'Bearer ' + token,\n            },\n        }).then(res => {\n            if (res.data.data) {\n                console.log('third', res.data.data)\n                let arr = res.data.data.tags ? res.data.data.tags.split(\",\") : [];\n                console.log(arr)\n                setNewTags(arr)\n                setCompany(res.data.data.company)\n                setProfessional(res.data.data.professional)\n                setProvinceId(res.data.data.province_id)\n                setCityId(res.data.data.city_id)\n                console.log('province', provinceId)\n                getProvinces(res.data.data.province_id ? res.data.data.province_id : 1)\n                getCity(res.data.data.province_id ? res.data.data.province_id : 1, res.data.data.city_id ? res.data.data.city_id : 1)\n\n            }\n        })\n    }\n\n    const handleInputChange = (e) => {\n        setinputValue(e.target.value)\n    }\n\n    const handleInputConfirm = () => {\n        let arr = newTags;\n        if (inputValue && newTags.indexOf(inputValue) === -1) {\n            arr.push(inputValue)\n        }\n        setNewTags(arr);\n        setinputValue('');\n        setInputVisible(false)\n    }\n\n    const showInput = () => {\n        setInputVisible(true)\n    }\n\n    const handleProvinceChange = value => {\n        setProvinceId(value);\n\n        getProvinces(provinceId)\n        getCity(provinceId, value)\n    };\n\n    const onSecondCityChange = value => {\n        setCityId(value)\n        for (let item in cities) {\n            console.log(parseInt(cities[item]['id']) == value)\n            if (parseInt(cities[item]['id']) == value) {\n                console.log(cities[item])\n                setSecondCity(cities[item])\n            }\n        }\n    };\n\n    const handleUploadChange = ({ file }) => {\n        console.log(file)\n        switch (file.status) {\n            case 'done':\n                message.destroy();\n                message.success('上传成功！');\n                // @ts-ignore\n                setAvatar(file.response.file_path)\n                break;\n            case 'error':\n                message.destroy();\n                message.error(file.response.message);\n                break;\n        }\n    };\n\n\n    useEffect(() => {\n        setToken(localStorage.getItem('token'))\n        if (isLoading) {\n            checkLogin()\n        }\n    }, [])\n\n    return (\n        <div className=\"baseView\">\n            <div className=\"left\">\n                <Form layout=\"vertical\" hideRequiredMark>\n                    <Form.Item label=\"邮箱\">\n                        <Input onChange={(e) => {\n                            setEmail(e.target.value)\n                        }} value={email} />\n                    </Form.Item>\n\n                    <Form.Item label=\"昵称\">\n                        <Input onChange={(e) => {\n                            setNickname(e.target.value)\n                        }} value={nickname} />\n                    </Form.Item>\n\n                    <Form.Item label=\"个人简介\">\n                        <Input.TextArea\n                            placeholder=\"个人简介\"\n                            rows={4}\n                            onChange={(e) => {\n                                setIntroduce(e.target.value)\n                            }}\n                            value={introduce}\n                        />\n                    </Form.Item>\n\n                    <Form.Item label=\"标签\">\n                        <div className=\"tags\" style={{ lineHeight: '30px' }}>\n                            {newTags && newTags.map(item => (<Tag key={item}>{item}</Tag>))}\n                            {inputVisible && (\n                                <Input\n                                    ref={newTag}\n                                    type=\"text\"\n                                    size=\"small\"\n                                    style={{ width: 78 }}\n                                    value={inputValue}\n                                    onChange={handleInputChange}\n                                    onBlur={handleInputConfirm}\n                                    onPressEnter={handleInputConfirm}\n                                />\n                            )}\n                            {!inputVisible && (<Tag\n                                onClick={showInput}\n                                style={{ background: '#fff', borderStyle: 'dashed' }}>\n                                <Icon type=\"plus\" />\n                            </Tag>\n                            )}\n                        </div>\n                    </Form.Item>\n\n                    <Form.Item label=\"职称\">\n                        <Input onChange={(e) => {\n                            setProfessional(e.target.value)\n                        }} value={professional} />\n                    </Form.Item>\n\n                    <Form.Item label=\"公司\">\n                        <Input onChange={(e) => {\n                            setCompany(e.target.value)\n                        }} value={company} />\n                    </Form.Item>\n\n                    <Form.Item label=\"所在城市\">\n                        {provinceData}\n                        <Select\n                            style={{ width: 120, marginLeft: 10 }}\n                            value={secondCity ? secondCity.name : ''}\n                            onChange={onSecondCityChange}>\n                            {cityData}\n                        </Select>\n                    </Form.Item>\n\n                    <Button type=\"primary\" onClick={handlerSubmit}>\n                        更新信息\n                    </Button>\n\n                </Form>\n            </div>\n            <div className=\"right\">\n                <div className=\"avatar_title\">\n                    用户头像\n                </div>\n\n                <div className=\"avatar\">\n                    <img style={{ borderRadius: '50%' }} src={avatar} alt=\"avatar\" />\n                </div>\n\n\n                <Upload\n                    accept=\"image/*\"\n                    name=\"file\"\n                    className=\"upload\"\n                    action={servicePath.uploadArticleImage}\n                    showUploadList={false}\n                    headers={{ Authorization: 'Bearer ' + token }}\n                    onChange={handleUploadChange}\n                >\n\n                    <div className=\"button_view\">\n                        <Button icon=\"upload\">\n                            上传头像\n                        </Button>\n                    </div>\n\n                </Upload>\n            </div>\n        </div>\n    )\n}\nexport default BaseView\n"]},"metadata":{},"sourceType":"module"}