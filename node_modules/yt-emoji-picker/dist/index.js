module.exports=function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("lodash")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=r(0),a=l(i),c=l(r(8)),u=r(1);function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,i.Component),o(f,[{key:"createMarkup",value:function(){var r={};(0,u.each)(this.props.emojiToolkit,function(e,t){r[t]=c.default[t],c.default[t]=e});var e=c.default.shortnameToImage(this.props.emoji.shortname);return(0,u.each)(r,function(e,t){c.default[t]=e}),{__html:e}}},{key:"render",value:function(){return a.default.createElement("div",{onKeyUp:this.handleKeyUp,onClick:this.handleClick,"aria-label":this.props.ariaLabel,role:this.props.role,className:"emoji",dangerouslySetInnerHTML:this.createMarkup()})}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments));return n.handleKeyUp=function(e){e.preventDefault(),"Enter"!==e.key&&" "!==e.key||n.handleClick(e)},n.handleClick=function(e){var t=n.props,r=t.onSelect,o=t.emoji;r&&r(e,o)},n}t.default=s},function(e,t){e.exports=require("react-addons-shallow-compare")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(5),i=(o=n)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=a(r(0)),c=a(r(6)),u=r(1),l=a(r(7)),i=a(r(2)),f=a(r(9)),p=r(15);function a(e){return e&&e.__esModule?e:{default:e}}r(17);var d={recent:{title:"常用",emoji:"clock3"},people:{title:"表情符号与任务",emoji:"smile"},nature:{title:"动物与自然",emoji:"hamster"},food:{title:"食物与饮料",emoji:"pizza"},activity:{title:"活动",emoji:"soccer"},travel:{title:"旅行与地点",emoji:"earth_americas"},objects:{title:"物体",emoji:"bulb"},symbols:{title:"符号",emoji:"symbols"},flags:{title:"旗帜",emoji:"flag_cn"}},y=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,s.default.Component),o(h,[{key:"componentWillMount",value:function(){this.rowsSelector=(0,p.createRowsSelector)(),this.recentRowsSelector=(0,p.createRecentRowsSelector)(),this.reloadRecentRows(this.state.recentKeys)}},{key:"componentDidMount",value:function(){this.setState({category:this.categories.getActiveCategory()})}},{key:"componentWillUnmount",value:function(){var e=this.state.recentKeys;l.default.set("emoji-recent",e)}},{key:"reloadRecentRows",value:function(e){var t=this.props.recentCount,r=[];if(d.recent&&0<t){var o=e.slice(0,t),n=(0,p.getRecentCategory)(c.default,o),i=n.recentCategory,a=n.notFounds;0<a.length&&(o=(0,u.difference)(o,a),this.setState({recentKeys:o}),l.default.set("emoji-recent",o)),r=this.recentRowsSelector({recent:d.recent},i)}this.setState({recentRows:r})}},{key:"renderHeader",value:function(){var r=this,e=this.props,o=e.rowHeight,n=e.recentCount;return s.default.createElement("header",{className:"emoji-dialog-header",role:"menu"},s.default.createElement("ul",{style:{height:o}},Object.keys(d).map(function(e){if(n<1&&"recent"===e)return null;var t=d[e];return s.default.createElement("li",{key:e,className:r.state.category===e?"active":void 0,style:{width:o,height:o}},s.default.createElement(i.default,{emoji:{shortname:":"+t.emoji+":"},ariaLabel:t.title,role:"menuitem",onSelect:function(){r.categories.jumpToCategory(e)},emojiToolkit:r.props.emojiToolkit}))})))}},{key:"renderSearch",value:function(){if(this.props.search)return s.default.createElement("div",{className:"emoji-search-wrapper"},s.default.createElement("input",{className:"emoji-search",type:"search",ref:this.setSearchRef,onChange:this.handleSearch}))}},{key:"renderContent",value:function(){var e=this.props,t=e.headerHowHeight,r=e.rowHeight,o=e.search,n=this.state,i=n.emojiData,a=n.modifier,c=n.term,u=n.recentRows,l=this.rowsSelector(d,i,a,c);return!c&&d.recent&&0<u.length&&(l=u.concat(l)),s.default.createElement("div",{className:"emoji-categories-wrapper",style:{top:o?r+38:r}},s.default.createElement(f.default,{ref:this.setCategoriesRef,rows:l,headerHowHeight:t,rowHeight:r,modifier:a,onSelect:this.handleEmojiSelect,onActiveCategoryChange:this.onActiveCategoryChange,onModifierChange:this.onModifierChange,emojiToolkit:this.props.emojiToolkit}))}},{key:"render",value:function(){var e=this.props,t=e.headerHowHeight,r=e.rowHeight,o=9*r+30,n=7*r+t;return s.default.createElement("div",{className:"emoji-dialog",role:"dialog",style:{width:o,height:n}},this.renderHeader(),this.renderSearch(),this.renderContent())}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return o.state={emojiData:(0,p.createEmojiDataFromStrategy)(c.default),recentKeys:l.default.get("emoji-recent",[]),recentRows:[],category:"recent",modifier:l.default.get("emoji-modifier")||0,term:""},o.onActiveCategoryChange=function(e){e!==o.state.category&&(o.setState({category:e}),"recent"===e&&o.reloadRecentRows(o.state.recentKeys))},o.onModifierChange=function(e){o.setState({modifier:e}),l.default.set("emoji-modifier",e)},o.setCategoriesRef=function(e){o.categories=e},o.setSearchRef=function(e){o.search=e},o.handleSearch=function(){o.setState({term:o.search.value})},o.handleEmojiSelect=function(t){var e=o.state.recentKeys,r=e.length;(e=e.filter(function(e){return e!==t._key})).unshift(t._key),e.length>o.props.recentCount&&(e=e.slice(0,o.props.recentCount)),o.setState({recentKeys:e}),l.default.set("emoji-recent",e),"recent"!==t.category&&r<o.props.recentCount&&o.reloadRecentRows(e),o.props.onSelect(t)},Array.isArray(o.state.recentKeys)||(o.state.recentKeys=[],l.default.remove("emoji-recent")),o}(t.default=y).defaultProps={recentCount:36,headerHowHeight:34,rowHeight:40}},function(e,t){e.exports=require("emoji-toolkit/emoji.json")},function(e,t){e.exports=require("store")},function(e,t){e.exports=require("emoji-toolkit")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=r(0),d=l(i),a=l(r(10)),c=l(r(11)),u=r(1),y=l(r(12)),h=l(r(13)),m=l(r(14));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,i.Component),o(f,[{key:"componentDidUpdate",value:function(e){this.props.rows===e.rows&&this.props.modifier===e.modifier||this.list.recomputeRowHeights()}},{key:"render",value:function(){var o=this,n=this.props.rows.length;return d.default.createElement(a.default,null,function(e){var t=e.height,r=e.width;return d.default.createElement(c.default,{height:t,onScroll:o.onScroll,ref:o.setListRef,rowCount:n,rowHeight:o.rowHeight,rowRenderer:o.rowRenderer,scrollToAlignment:"start",tabIndex:null,width:r})})}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments));return p.categories={},p.setListRef=function(e){p.list=e},p.onScroll=(0,u.throttle)(function(e){var t=e.scrollTop,r=p.getActiveCategory(t);r!==p.lastActiveCategory&&(p.lastActiveCategory=r,p.props.onActiveCategoryChange(r))},100),p.getActiveCategory=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=p.props.rows;if(0===e){if(0===t.length)return;return t[0].id}for(var r=0,o=0;o<e;)(o+=p.rowHeight({index:r}))<=e&&(r+=1);var n=p.props.rows[r];return Array.isArray(n)?n[0].category:n.id},p.rowHeight=function(e){var t=e.index,r=p.props,o=r.rows,n=r.headerHowHeight,i=r.rowHeight,a=o[t];return Array.isArray(a)?i:n},p.rowRenderer=function(e){var t=e.key,r=e.index,o=e.style,n=p.props.rows[r],i=p.props.onSelect;if(Array.isArray(n))return d.default.createElement(h.default,{key:t,onSelect:i,style:o,emojis:n,emojiToolkit:p.props.emojiToolkit});var a=n.category,c=n.id,u={key:t,category:a,ref:p.setCategoryRef(c),style:o};if(0===r){var l=p.props,s=l.modifier,f=l.onModifierChange;u.headingDecoration=d.default.createElement(m.default,{active:s,onChange:f})}return d.default.createElement(y.default,u)},p.setCategoryRef=function(t){return function(e){p.categories[t]=e}},p.jumpToCategory=function(t){var e=Math.max((0,u.findIndex)(p.props.rows,function(e){return e.id===t}),0);p.list.scrollToRow(e)},p}t.default=s},function(e,t){e.exports=require("react-virtualized/dist/commonjs/AutoSizer")},function(e,t){e.exports=require("react-virtualized/dist/commonjs/List")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=r(0),a=u(i),c=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Component),o(s,[{key:"shouldComponentUpdate",value:function(e,t){return(0,c.default)(this,e,t)}},{key:"render",value:function(){var e=this.props,t=e.category,r=e.headingDecoration,o=e.style;return a.default.createElement("div",{className:"emoji-category-header",style:o},a.default.createElement("h2",{className:"emoji-category-title"},t.title),a.default.createElement("div",{className:"emoji-category-heading-decoration"},r))}}]),s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=r(0),a=l(i),c=l(r(3)),u=l(r(2));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,i.Component),o(f,[{key:"shouldComponentUpdate",value:function(e,t){return(0,c.default)(this,e,t)}},{key:"render",value:function(){var t=this,e=this.props,r=e.emojis,o=e.style;return a.default.createElement("div",{className:"emoji-row",style:o},r.map(function(e){return a.default.createElement(u.default,{emoji:e,ariaLabel:e.name,role:"option",key:e._key,onSelect:t.handleEmojiSelect,emojiToolkit:t.props.emojiToolkit})}))}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments));return r.handleEmojiSelect=function(e,t){r.props.onSelect(t)},r}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,a=r(0),c=(i=a)&&i.__esModule?i:{default:i},u=r(1);var l={0:"#FFDE5C",1:"#FFE1BB",2:"#FFD0A9",3:"#D7A579",4:"#B57D52",5:"#8B6858"},s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.Component),o(f,[{key:"render",value:function(){var r=this;return c.default.createElement("ol",{className:"modifiers"},(0,u.map)(l,function(e,t){return c.default.createElement("li",{key:t},c.default.createElement("a",{onClick:function(){return r.handleModifierClick(t)},className:Number(r.props.active)===Number(t)?"modifier active":"modifier",style:{background:e},"aria-label":"Fitzpatrick type "+t}))}))}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments));return t.handleModifierClick=function(e){t.props.onChange(e)},t}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEmojiDataFromStrategy=function(i){var a={};return Object.keys(i).sort(function(e,t){return i[e].order<i[t].order?-1:i[e].order===i[t].order?0:1}).forEach(function(e){try{var t=i[e],r=t.shortname,o=r.replace(/:/g,"");if("modifier"===t.category)return;"regional"===t.category&&(t.category="symbols");if([].includes(r))return;a[t.category]||(a[t.category]={}),t._key=e,t.keywords.push(t.name),t.keywords.includes(o)||t.keywords.push(o);var n=o.match(/(.*?)_tone(\d?)$/);n?a[t.category][n[1]]&&a[t.category][n[1]].push(t):a[t.category][o]=[t]}catch(e){}}),a},t.findEmojiVariant=s,t.rowsSelector=f,t.createRowsSelector=function(){var n=null,i=null,a=null,c=null;return function(e,t,r,o){return i===e&&a===r&&c===o||(n=f(e,t,r,o),i=e,a=r,c=o),n}},t.createRecentRowsSelector=function(){var o=null,n=null;return function(e,t,r){return 2<arguments.length&&void 0!==r&&r&&0<o.length||n!==e&&(o=f(e,t,0,""),n=e),o}},t.getRecentCategory=function(n,e){var i={},a=[];return Array.isArray(e)&&e.forEach(function(t){try{var e=n[t],r=e.shortname.replace(/:/g,""),o="recent";i[o]||(i[o]={}),e._key=t,i[o][r]=[Object.assign({},e,{category:"recent"})]}catch(e){a.push(t)}}),{recentCategory:i,notFounds:a}};var o,n=r(16),c=(o=n)&&o.__esModule?o:{default:o},u=r(1);function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function s(e,t){return t&&e[t]?e[t]:e[0]}function f(e,n,i,a){return(0,u.map)(e,function(e,t){var r=n[t]||{},o=(0,u.values)(r).map(function(e){return s(e,i)});return a&&(o=o.filter(function(e){var t=new RegExp("^(?:.* +)*"+(0,c.default)(a),"i");return e.keywords.some(function(e){return t.test(e)})})),{category:e,emojis:o,id:t}}).filter(function(e){return 0<e.emojis.length}).map(function(e){var t=e.category,r=e.emojis;return[{category:t,id:e.id}].concat(l((0,u.chunk)(r,9)))}).reduce(function(e,t){return[].concat(l(e),l(t))},[])}},function(e,t){e.exports=require("escape-string-regexp")},function(e,t,r){}]);